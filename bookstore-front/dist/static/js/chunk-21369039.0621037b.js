(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21369039"],{"89a4":function(o,t,s){"use strict";s("b61a")},b61a:function(o,t,s){},cfeb:function(o,t,s){"use strict";s.r(t);var a=function(){var o=this,t=o.$createElement,s=o._self._c||t;return s("div",{attrs:{id:"details"}},[s("div",{staticClass:"navbar_con"}),s("div",{staticClass:"submena clearfix"},[s("router-link",{attrs:{to:"/"}},[o._v("首页")]),s("span",[o._v(">")]),s("router-link",{attrs:{to:"/"}},[o._v(o._s(o.book.book_category))]),s("span",[o._v(">")]),s("span",[o._v("商品详情")])],1),s("div",{staticClass:"center_con clearfix"},[s("div",{staticClass:"main_menu fl"},[s("img",{attrs:{src:o.book.book_img}})]),s("div",{staticClass:"goods_detail_list fr"},[s("h3",[o._v(o._s(o.book.book_name))]),s("h6",[o._v("作者："),s("p",{on:{click:o.searchAuthor}},[o._v(o._s(o.book.book_author))])]),o._v(" "),s("h6",[o._v("出版社："+o._s(o.book.book_pub))]),s("p",[o._v(o._s(o.book.book_intro))]),s("div",{staticClass:"prize_bar"},[s("div",{staticClass:"show_prize fl"},[o._v("￥"),s("em",[o._v(o._s(o.book.book_price))])]),s("div",{staticClass:"show_unit fl"},[s("td",{staticClass:"td-num"},[s("div",{staticClass:"product-num"},[s("a",{staticClass:"num-reduce num-do fl",attrs:{href:"javascript:;"},on:{click:function(t){o.book.book_count--}}},[o._v("-")]),s("input",{directives:[{name:"model",rawName:"v-model",value:o.book.book_count,expression:"book.book_count"}],staticClass:"num-input",attrs:{type:"text"},domProps:{value:o.book.book_count},on:{input:function(t){t.target.composing||o.$set(o.book,"book_count",t.target.value)}}}),s("a",{staticClass:"num-add num-do fr",attrs:{href:"javascript:;"},on:{click:function(t){o.book.book_count++}}},[o._v("+")])])])])]),s("div",{staticClass:"total"},[o._v("总价："),s("em",[o._v(o._s(o.book.book_price*o.book.book_count))])]),s("div",{staticClass:"operate_btn"},[s("button",{staticClass:"buy_btn",on:{click:o.orderIt}},[o._v("立即购买")]),s("button",{staticClass:"add_cart",on:{click:o.addtoCart}},[o._v("加入购物车")])])])])])},e=[],n={name:"",data:function(){return{book:{}}},created:function(){book=this.$route.params},methods:{orderIt:function(){var o=this,t=[this.book.book_id],s=new FormData;s.append(t),console.log(s),request({method:"post",url:"/api/trade/selected_books_preview/",data:s}).then((function(o){console.log(o)})).catch((function(t){console.log(t),o.$message({type:"error",message:"下单失败"})}))},addtoCart:function(){var o=this,t=new FormData;t.append("book_id",this.book.book_id),t.append("book_count",this.book.book_count),console.log(t),request({method:"post",url:"/api/trade/add_to_shoppingcart/",data:t}).then((function(t){console.log(t),t.error_num?o.$message({type:"error",message:"加购失败"}):o.$message({type:"success",message:"加购成功"})})).catch((function(t){console.log(t),o.$message({type:"error",message:t.message})}))},searchAuthor:function(){this.$router.push({name:"Search",params:{book_author:this.book.book_author}})}}},i=n,c=(s("89a4"),s("2877")),r=Object(c["a"])(i,a,e,!1,null,null,null);t["default"]=r.exports}}]);
//# sourceMappingURL=chunk-21369039.0621037b.js.map